<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For You üíô</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
  *{ margin:0; padding:0; box-sizing:border-box; font-family: 'Poppins', sans-serif; }
  body{ min-height:100vh; background:linear-gradient(135deg,#ffe6f0,#e6f0ff); display:flex; justify-content:center; align-items:center; padding:20px; overflow-x: hidden; }
  .bg-heart { position: fixed; color: rgba(255, 77, 136, 0.2); font-size: 20px; user-select: none; pointer-events: none; z-index: 0; animation: floatUp 6s linear infinite; }
  @keyframes floatUp { 0% { transform: translateY(100vh) rotate(0deg); opacity: 1; } 100% { transform: translateY(-10vh) rotate(360deg); opacity: 0; } }
  .container{ max-width:1000px; width:100%; background:rgba(255,255,255,0.9); backdrop-filter: blur(10px); border-radius:30px; box-shadow:0 15px 40px rgba(0,0,0,0.1); display:flex; gap:40px; padding:40px; flex-wrap:wrap; position: relative; z-index: 1; }
  .image-box{ flex:1; display:flex; justify-content:center; align-items:center; }
  .image-box img{ width:300px; height: 400px; object-fit: cover; border-radius:25px; box-shadow:0 10px 25px rgba(0,0,0,0.2); animation: bounce 4s ease-in-out infinite; }
  @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }
  .text-box{ flex:1.2; display: flex; flex-direction: column; justify-content: center; }
  .text-box h2{ color:#4d79ff; margin-bottom:20px; font-size:2rem; }
  .message{ font-size:1.1rem; line-height:1.7; min-height:160px; white-space:pre-line; color: #444; }
  .reasons{ margin-top:30px; display:grid; grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); gap:15px; }
  .reason{ background:#fff; padding:12px; border-radius:15px; text-align:center; font-size:0.9rem; box-shadow:0 4px 10px rgba(0,0,0,0.05); border: 1px solid #ffe6f0; transition: 0.3s; cursor: pointer; }
  .reason:hover{ transform:scale(1.05); background: #fdf2f7; }
  #memory-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.95); display: none; justify-content: center; align-items: center; z-index: 2000; flex-direction: column; color: white; }
  #memory-content { max-width: 85%; max-height: 75vh; border-radius: 20px; border: 4px solid white; box-shadow: 0 0 20px rgba(255,255,255,0.2); }
  .overlay-hint { margin-top: 20px; font-size: 1rem; font-style: italic; color: #ffe6f0; }
  .signature{ margin-top:30px; font-weight:600; font-size: 1.2rem; color:#ff4d88; text-align: right; }
  @media(max-width:768px){ .container{ flex-direction:column; text-align:center; padding: 25px; } .image-box img { width: 100%; height: 300px; } .signature { text-align: center; } }
</style>
</head>

<body>

<audio id="mySong" src="song.mpeg" loop preload="auto"></audio>
<div id="bg-hearts-container"></div>

<div id="memory-overlay">
  <div id="media-container"></div>
  <p class="overlay-hint">Double-click the content to go back üíô</p>
</div>

<div class="container">
  <div class="image-box"><img src="photo.jpeg" alt="Us Together"></div>
  <div class="text-box">
    <h2>To my favorite person üíô</h2>
    <div class="message" id="typeText"></div>
    <div class="reasons">
      <div class="reason" onclick="showMemory('img', 'shoulder.jpeg')">You feel like home üè°</div>
      <div class="reason" onclick="showMemory('img', 'hug.jpeg')">My safest place üíô</div>
      <div class="reason" onclick="showMemory('img', 'murga.jpeg')">Best boyfriend ‚ú®</div>
      <div class="reason" onclick="showMemory('img', 'hands.jpeg')">Always you üíñ</div>
    </div>
    <div class="signature"> ‚Äî Yours, Gugu üíï </div>
  </div>
</div>

<script>
const text = `Happiest eve Mr. Rawat.

I still remember our one interaction in 5th when you used to play with my hair that little naughty boy stayed in my heart and daily I try to keep that child alive in you I love your naughty mischievous eyes mankudi keep that alive always......

Since that one dm I answered, you've been my go-to person. I'm so incredibly blessed that I answered that one DM on 23rd March 2023. You make life so much better just by being in it.`;

let index = 0;
const speed = 45;
const target = document.getElementById("typeText");

function typeWriter(){
  if(index < text.length){
    target.innerHTML += text.charAt(index);
    index++;
    setTimeout(typeWriter, speed);
  }
}

function showMemory(type, source) {
  const overlay = document.getElementById('memory-overlay');
  const container = document.getElementById('media-container');
  container.innerHTML = ''; 
  let element;
  if(type === 'img') { element = document.createElement('img'); }
  else { element = document.createElement('video'); element.setAttribute('controls', 'true'); element.setAttribute('autoplay', 'true'); }
  element.src = source; element.id = 'memory-content';
  element.ondblclick = () => { overlay.style.display = 'none'; container.innerHTML = ''; };
  container.appendChild(element); overlay.style.display = 'flex';
}

function createBgHeart() {
  const heart = document.createElement("div");
  heart.className = "bg-heart"; heart.innerHTML = "üíô"; 
  heart.style.left = Math.random() * 100 + "vw"; heart.style.animationDuration = (Math.random() * 3 + 3) + "s";
  document.getElementById("bg-hearts-container").appendChild(heart);
  setTimeout(() => heart.remove(), 6000);
}

window.onload = () => {
  typeWriter();
  setInterval(createBgHeart, 500);
  
  const song = document.getElementById("mySong");
  
  // Saved time se gaana start karna
  const savedTime = localStorage.getItem("songTime");
  if(savedTime) {
    song.currentTime = parseFloat(savedTime);
  }

  const playPromise = song.play();
  if (playPromise !== undefined) {
    playPromise.catch(() => {
      document.body.addEventListener('click', () => song.play(), { once: true });
    });
  }
};
</script>
</body>
</html>